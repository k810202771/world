<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="icon-font/iconfont.css"/>
    <script src="js/Worm.js"></script>
    <style>
        .content_head{
            background: url(image/list_head.png) no-repeat;
            height: 36px;
            background-position: center;
            margin: 48px auto;
        }
        .content_title{
            text-align: center;
            font-size: 0;
        }
        .content_title a{
            font-size: 16px;
            display: inline-block;
            height: 38px;
            width: 100px;
            position: relative;
            overflow: hidden;
            color: #6b6b6b;
            cursor: default;
            border-bottom: 2px solid transparent;
        }
        .content_title .index{
            color: #d2598a;
            border-color:#d2598a;
        }
        .content_title .index:before{
            content: "";
            position: absolute;
            bottom: -8px;
            left: 43px;
            height: 14px;
            width: 14px;
            background: #d2598a;
            border-radius: 14px;
        }
        .content_middle{

        }
        .content_middle .list_box{
            margin: 32px 0 64px 0;
            padding: 0;
            list-style-type: none;
        }
        .list_box>.list{
            display: none;
        }
        .News{
            margin: 0 auto;
            padding: 0;
            list-style-type: none;
        }
        .News li{
            position: relative;
            margin: 10px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #f2f2f2;
            cursor: pointer;
        }
        .News li:hover .title{
            color: #e37b63;
            margin-left: 10px;
        }
        .News .title{
            position: absolute;
            font-size: 20px;
            color: #444;
            transition: margin-left 0.3s;
        }
        .News .text{
            position: absolute;
            top: 30px;
            font-size: 14px;
            color: #7d7d7d;
        }
        .News img{
            width:260px;
            height:150px;
            margin:0 20px;
        }
        .content_footer{

        }
    </style>
</head>
<body>
<!--页头-->
<herader id="herader">
    <div id="head_box" class="box">
        <div id="head_left"></div>
        <div id="head_right" class="iconfont">
            <a @mouseover="{{over}}" @mouseout="{{out}}">&#xe6e6;<div>微博</div></a>
            <a @mouseover="{{over}}" @mouseout="{{out}}">&#xe61e;<div>QQ</div></a>
            <a @mouseover="{{over}}" @mouseout="{{out}}">&#xe65d;<div>微信</div></a>
            <a @mouseover="{{over}}" @mouseout="{{out}}">&#xe652;<div>电话</div></a>
            <a @mouseover="{{over}}" @mouseout="{{out}}">&#xe678;<div>旺旺</div></a>
        </div>
    </div>
</herader>
<!--页面内容-->
<article>
    <div id="poster_bg" class="box" style="height: 80px">
        <div id="menu" class="box">
            <span>
                <a>{{menu1}}</a>
                <a>{{menu2}}</a>
                <a>{{menu3}}</a>
                <a>{{menu4}}</a>
                <a>{{menu5}}</a>
                <a>{{menu6}}</a>
            </span>
        </div>
    </div>
    <div class="content_head box"></div>
    <div class="content_title box"><a class="index" @mouseover="{{over}}">综合新闻</a><a @mouseover="{{over}}">养生资讯</a><a @mouseover="{{over}}">企业新闻</a><a @mouseover="{{over}}">行业资讯</a>
    </div>
    <hr/>

    <div class="content_middle">
        <div>
            <ul class="list_box">
                <li class="list"><ul class="News box">{{list1}}{{list1}}{{list1}}{{list1}}</ul></li>
                <li class="list"><ul class="News box">{{list2}}</ul></li>
                <li class="list"><ul class="News box">{{list3}}</ul></li>
                <li class="list"><ul class="News box">{{list4}}</ul></li>
            </ul>
        </div>
    </div>
    <div class="content_footer"></div>
</article>

<!--页尾-->
<footer>
    <div id="footer">
        <div class="content box">
            <img class="logo" src="image/footer_logo.png" alt=""/>
            <div class="div_left">公司地址:北京市朝阳区双桥东路双会桥南双桥燕京中药饮片厂<br/>版权所有 © 1987-2017 北京市双桥燕京中药饮片厂<br/>京ICP备09043563号</div>
            <div class="div_right"><a href="http://shiweicao.tmall.com" target="_blank"><img src="image/tmall.png" /></a><a href="http://shiweicao.jd.com" target="_blank"><img src="image/jd.png"/></a></div>
        </div>
    </div>
</footer>

</body>
<script>
    //导航菜单浮动
    window.onscroll = function(){
        var el = $("#menu");
        var top = (typeof window.pageYOffset != 'undefined'?window.pageYOffset:typeof document.compatMode != 'undefined' && document.compatMode != 'BackCompat'?document.documentElement.scrollTop:typeof document.body != 'undefined'?document.body.scrollTop:"");
        el.style.background = (ie()>8?top/55/2<=0.8?"rgba(255,255,255,"+top/55/2+")":"rgba(255,255,255,0.8)":top>55?"#fff":"");

        if(top >= 55){
            el.style.position = "fixed";
        }else{
            el.style.position = "";
        }
    };
    //分享按钮
    var share = new Worm({
        el: "#head_right",
        data: {
            over: function (e) {
                e.style.color = "#f24853";
                $("div", e).style.display = "block";
            },
            out: function (e) {
                e.style.color = "";
                $("div", e).style.display = "";
            }
        }
    });
    //menu菜单导航
    var menu = new Worm({
        el:"#poster_bg",
        data:{
            menu1:"官网首页",
            menu2:"新闻资讯",
            menu3:"产品资料",
            menu4:"合作加盟",
            menu5:"联系我们",
            menu6:"关于我们"
        }
    });
    dataJson = function(e){
        var json = JSON.parse(e);
        console.log(json.list1);
        new Worm({
            el:".list_box",
            data:{
                list1:"<li><a href=''><img src='' /><span class='title'></span><span class='text'>阴阳师助手App新加入了键盘回复功能，多种场景模式，一键个性回复！实现游戏内快捷回复队友，与队友进行实时沟通！</span></li></a>",
                list2:"<li><a href=''><img src='' /><span class='title'>01-23 阴阳师助手App新功能“助手键盘”焕新上线！使用赢好礼啊 ！</span><span class='text'>阴阳师助手App新加入了键盘回复功能，多种场景模式，一键个性回复！实现游戏内快捷回复队友，与队友进行实时沟通！</span></li></a>",
                list3:"<li><a href=''><img src='' /><span class='title'>01-23 阴阳师助手App新功能“助手键盘”焕新上线！使用赢好礼啊 ！</span><span class='text'>阴阳师助手App新加入了键盘回复功能，多种场景模式，一键个性回复！实现游戏内快捷回复队友，与队友进行实时沟通！</span></li></a>",
                list4:"<li><a href=''><img src='' /><span class='title'>01-23 阴阳师助手App新功能“助手键盘”焕新上线！使用赢好礼啊 ！</span><span class='text'>阴阳师助手App新加入了键盘回复功能，多种场景模式，一键个性回复！实现游戏内快捷回复队友，与队友进行实时沟通！</span></li></a>"
            }
        });
    };
    loadXMLDoc("data/detailedList.json","get",dataJson);

    //菜单导航
    new Worm({
        el:".content_title",
        data:{
            over:function(e){
                set_list(e)
            }
        }
    });
    set_list = function(e){
        var el = $("a",e.parentNode);
        var list = $(".list",$(".list_box"));
        var index = 0;
        for(var i=0;i<el.length;i++){
            if(el[i] == e){
                index = i;
                e.setAttribute("class","index");
            }else{
                el[i].removeAttribute("class");
            }
        }
        for(var i=0;i<list.length;i++){
            if(i == index){
                list[i].style.display = "block";
            }else{
                list[i].style.display = "";
            }
        }
    }
    set_list($("a",$(".content_title"))[0])

</script>
</html>